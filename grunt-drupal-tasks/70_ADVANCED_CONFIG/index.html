<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Phase2">
  
  <title>Advanced Options - Grunt-Drupal-Tasks</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Advanced Options";
    var mkdocs_page_input_path = "70_ADVANCED_CONFIG.md";
    var mkdocs_page_url = "/70_ADVANCED_CONFIG/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Grunt-Drupal-Tasks</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../05_SETUP/">Project Setup</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../10_BUILD/">Build Process</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../20_QUALITY/">Code Quality</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../30_FRONTEND/">Frontend Ties</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../40_OPERATIONS/">Project Operations</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../40_TESTING/">Testing</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../60_PACKAGE/">Deploy Packaging</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../70_GIT_INTEGRATION/">Git Integration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Advanced Options</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#advanced-configuration">Advanced Configuration</a></li>
                
                    <li><a class="toctree-l4" href="#desktop-notification-settings">Desktop Notification Settings</a></li>
                
                    <li><a class="toctree-l4" href="#magic-configuration">Magic Configuration</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../80_CI/">Continuous Integration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../80_CUSTOM_TASKS/">Extending GDT</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../90_FAQ/">FAQ</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Grunt-Drupal-Tasks</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Advanced Options</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/phase2/grunt-drupal-tasks/" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="advanced-configuration">Advanced Configuration</h1>
<blockquote>
<p>Tips and tricks in customizing Grunt Drupal Tasks, contextually adjusting
behaviors, and more.</p>
</blockquote>
<h2 id="desktop-notification-settings">Desktop Notification Settings</h2>
<p>This is an example of the settings for the notify feature:</p>
<pre><code>{
  &quot;notify&quot;: {
    &quot;threshold&quot;: 3
  }
}
</code></pre>

<p><strong>notify.threshold</strong>: Minimum number of seconds a task must execute for a
notification to be triggered when the task ends.</p>
<h2 id="magic-configuration">Magic Configuration</h2>
<p>The domain, project.profile, alias, and siteUrls configurations are all built
using the same system that allows for maximum flexibility in project and
environment configuration. Note that all configuration is subject to the Project
Gruntfile override.</p>
<p>In order of precedence it checks the following:</p>
<h3 id="priority-1-project-gruntfilejs">Priority 1: Project Gruntfile.js</h3>
<p>The value of the configuration prefixed with <code>gdt.</code>. This allows a project
Gruntfile to dynamically specify the value before bootstrapping Grunt Drupal
Tasks. This is valuable because the code of grunt-drupal-tasks sets up many
behaviors based on that configuration that would be difficult to replicate
after the bootstrap.</p>
<p>This can be done with any configuration you might place into your
Gruntconfig.json, and is merged recursively as an override to whatever you place
in that file.</p>
<p>For example:</p>
<ul>
<li><strong>alias</strong>: <code>gdt.alias</code></li>
<li><strong>domain</strong>: <code>gdt.domain</code></li>
<li><strong>profile</strong>: <code>gdt.profile</code></li>
<li><strong>siteUrls</strong>: <code>gdt.siteUrls</code></li>
</ul>
<p>Suppose your environment is set up with the following directory structure:</p>
<blockquote>
<ul>
<li>project.example.com<ul>
<li>project-repository</li>
<li>Gruntfile.js</li>
<li>Gruntconfig.json</li>
<li>src/</li>
<li>&hellip;</li>
</ul>
</li>
<li>project2.example.net<ul>
<li>&hellip;</li>
</ul>
</li>
</ul>
</blockquote>
<p>Given this structure, you will not want to use environment variables because
each of your projects might need different values in the host machine. However,
a little logic in the project Gruntfile.js can allow you to dynamically derive
your development domain or Drush site alias.</p>
<p>For example, here is a Gruntfile that derives the site alias and domain
based on the parent directory name of the project repository.</p>
<pre><code class="js">var path = require('path');
module.exports = function(grunt) {
  var name = path.basename(path.resolve(__dirname, '..'));
  // Set domain to &quot;project.example.com&quot;. If nothing else sets the `alias`
  // it will default to @project.example.com.
  grunt.initConfig({ gdt: { domain: name });
  // Load all plugins and tasks defined by the grunt-drupal-tasks package.
  require('grunt-drupal-tasks')(grunt);
};
</code></pre>

<h3 id="priority-2-environment-variable">Priority 2: Environment Variable</h3>
<p>Each magic configuration property can also be set via an Environment Variable.</p>
<p>Environment Variables are extremely powerful, but only useful where the
environment contains only a single project using Grunt Drupal Tasks. This is
more effective for dedicated environments, such as official production and
staging servers, or virtual and containerized environments.</p>
<p>The specific environment variable name is covered as part of the property
descriptions.</p>
<h3 id="priority-3-project-gruntconfigjson">Priority 3: Project Gruntconfig.json</h3>
<p>The configuration placed in Gruntconfig.json. This is good for straightforward
defaults and is how all <em>non-magical</em> configuration works.</p>
<p>If you want to include your task in one of the existing groups, copy the text
exactly as seen in the output of the <code>grunt help</code> task.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../80_CI/" class="btn btn-neutral float-right" title="Continuous Integration">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../70_GIT_INTEGRATION/" class="btn btn-neutral" title="Git Integration"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/phase2/grunt-drupal-tasks/" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../70_GIT_INTEGRATION/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../80_CI/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
