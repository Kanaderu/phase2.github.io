<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Phase2">
  
  <title>Troubleshooting - DevTools CLI Documentation</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Troubleshooting";
    var mkdocs_page_input_path = "50_TROUBLESHOOTING.md";
    var mkdocs_page_url = "/50_TROUBLESHOOTING/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-305109-83', 'readthedocs.org/projects/devtools');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> DevTools CLI Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../00_INTRO/">Introduction</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../10_TOOLCHAIN/">Tool Chain</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../20_PROJECT_SETUP/">Project Setup</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../30_PROJECT_USAGE/">Project Usage</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../40_INTEGRATION/">Integration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Troubleshooting</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#troubleshooting">Troubleshooting</a></li>
                
                    <li><a class="toctree-l4" href="#run-doctor">Run doctor</a></li>
                
                    <li><a class="toctree-l4" href="#ensure-the-environment-is-setup-correctly">Ensure the environment is setup correctly</a></li>
                
                    <li><a class="toctree-l4" href="#ensure-your-images-are-up-to-date">Ensure your images are up to date</a></li>
                
                    <li><a class="toctree-l4" href="#configure-your-shell">Configure Your Shell</a></li>
                
                    <li><a class="toctree-l4" href="#reset-everything">Reset everything</a></li>
                
                    <li><a class="toctree-l4" href="#files-not-found">Files Not Found</a></li>
                
                    <li><a class="toctree-l4" href="#log-in-to-docker-hub">Log in to Docker Hub</a></li>
                
                    <li><a class="toctree-l4" href="#docker-client-and-server-version-incompatibilities">Docker client and server version incompatibilities</a></li>
                
                    <li><a class="toctree-l4" href="#network-timed-out-and-cant-pull-container-image">Network timed out and can't pull container image</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../60_FAQ/">FAQ</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../99_LINUX/">LINUX</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">DevTools CLI Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Troubleshooting</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://bitbucket.org/phase2tech/_devtools_vm" class="icon icon-bitbucket"> Edit on BitBucket</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="troubleshooting">Troubleshooting</h2>
<p>See the following sections for common problems and ways to solve them.</p>
<h3 id="run-doctor">Run doctor</h3>
<p>Run <code>devtools doctor</code> to determine if your environment is set to run DevTools.</p>
<h3 id="ensure-the-environment-is-setup-correctly">Ensure the environment is setup correctly</h3>
<p>It can be useful to ensure everything is in a clean state. The following should ensure that</p>
<ul>
<li><code>devtools halt</code> stops the docker machine and cleans up networking</li>
<li><code>eval "$(devtools config)"</code> clears environmental variables docker uses to communicate with the docker host</li>
<li><code>devtools start</code> starts the docker machine</li>
<li><code>eval "$(devtools config)"</code> sets environmental variables docker uses to communicate with the docker host</li>
</ul>
<h3 id="ensure-your-images-are-up-to-date">Ensure your images are up to date</h3>
<p>From time to time images are updated to fix bugs or add functionality. You won't automatically receive these updates but you can fetch them when you hear new ones are available.</p>
<p><code>docker pull imagename</code> can be used if you want to update a specific image. For example, if you wanted to make sure you had the latest dnsdock you'd run <code>docker pull phase2/dnsdock</code>.</p>
<p><code>docker-compose pull</code> can be used within a project directory to make sure you've got the latest version of all images in the docker-compose.yml file.</p>
<h3 id="configure-your-shell">Configure Your Shell</h3>
<p>If you do not have any containers listed when running <code>docker ps</code> or you get an error message like:</p>
<pre><code>Get http:///var/run/docker.sock/v1.20/containers/json: dial unix /var/run/docker.sock: no such file or directory.

* Are you trying to connect to a TLS-enabled daemon without TLS?

* Is your docker daemon up and running?
</code></pre>
<p>Or an error message like:</p>
<pre><code>Couldn't connect to Docker daemon - you might need to run `boot2docker up`.
</code></pre>
<p>Make sure your shell has the necessary environment variables by running:</p>
<p><code>eval "$(devtools config)"</code></p>
<h3 id="reset-everything">Reset everything</h3>
<p>If a problem continue to persists and the Docker Host is non-responsive, you may need to resort to the nuclear option of blowing everything away and starting over. Note this is a <strong>nuclear option</strong> as even your persistent data area will be removed if you don't back it up. If you have any data that needs to be maintained be sure to get a copy of it off of your VM first with the scripts provided.</p>
<p>To wipe everything out and start over</p>
<ol>
<li>
<p>First backup your existing data (if desired) by running <code>devtools data-backup</code>. This will sync your entire <code>/data</code> directory to your host machine.</p>
</li>
<li>
<p>Then you can run <code>devtools remove</code> This removes the broken Docker Host and itâ€™s state, making way for a clean start.</p>
</li>
<li>
<p>Next you can rebuild everything by running <code>devtools start</code>. This will create you new Docker Host.</p>
</li>
<li>
<p>If you wish to restore the <code>/data</code> directory that you previously backed up, then run <code>devtools data-restore</code></p>
</li>
</ol>
<h3 id="files-not-found">Files Not Found</h3>
<p>If you get messages about files not being found in the container that should be shared from your host computer, check the following:</p>
<ol>
<li>
<p>Is the project checked out under the <code>/Users</code> folder? Only files under the <code>/Users</code> folder are shared into the Docker Host (and thus containers) by default.</p>
</li>
<li>
<p>Does the <code>docker-compose.yml</code> file have a volume mount set up that contains the missing files?</p>
</li>
<li>
<p>Get shell in the Docker container via <code>docker exec -it &lt;container name&gt; /bin/bash</code> and check if the files are shared in the wrong place.</p>
</li>
<li>
<p>Get shell in the Docker Machine with <code>docker-machine ssh dev</code> and check if you find the files under /Users.</p>
</li>
</ol>
<h3 id="log-in-to-docker-hub">Log in to Docker Hub</h3>
<p>If you encounter the following error about the Docker image not being found when starting a project, it may indicate that your Docker client is not logged into a required private Docker Hub repository:</p>
<pre><code>Pulling repository phase2/mariadb

Error: image phase2/mariadb:latest not found
</code></pre>
<p>To solve this, run <code>docker login</code> and provide the relevant credentials.</p>
<h3 id="docker-client-and-server-version-incompatibilities">Docker client and server version incompatibilities</h3>
<p>If you see an error similar to this: </p>
<pre><code>Error response from daemon: client is newer than server (client API version: 1.20, server API version: 1.19)
</code></pre>
<p>You likely need to upgrade your Docker Machine ISO. Do that with:</p>
<pre><code>```
devtools halt
docker-machine upgrade dev
devtools start
```
</code></pre>
<p>However, please check in #devtools-support to ensure that upgrading your Docker Machine is the right course of action.</p>
<h3 id="network-timed-out-and-cant-pull-container-image">Network timed out and can't pull container image</h3>
<p>Example:</p>
<pre><code>Pulling cache (phase2/memcache:latest)...
Pulling repository docker.io/phase2/memcache
Network timed out while trying to connect to https://index.docker.io/v1/repositories/phase2/memcache/images. You may want to check your internet connection or if you are behind a proxy.
</code></pre>

<p>Try restarting docker-machine: <code>devtools restart</code></p>
<p><a href="https://github.com/docker/machine/issues/1857">Upstream tracking issue</a></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../60_FAQ/" class="btn btn-neutral float-right" title="FAQ">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../40_INTEGRATION/" class="btn btn-neutral" title="Integration"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://bitbucket.org/phase2tech/_devtools_vm" class="icon icon-bitbucket" style="float: left; color: #fcfcfc"> BitBucket</a>
      
      
        <span><a href="../40_INTEGRATION/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../60_FAQ/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
