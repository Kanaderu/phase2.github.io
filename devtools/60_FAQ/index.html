<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Phase2">
  
  <title>FAQ - DevTools CLI Documentation</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "FAQ";
    var mkdocs_page_input_path = "60_FAQ.md";
    var mkdocs_page_url = "/60_FAQ/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-305109-83', 'readthedocs.org/projects/devtools');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> DevTools CLI Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../00_INTRO/">Introduction</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../10_TOOLCHAIN/">Tool Chain</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../20_PROJECT_SETUP/">Project Setup</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../30_PROJECT_USAGE/">Project Usage</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../40_INTEGRATION/">Integration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../50_TROUBLESHOOTING/">Troubleshooting</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">FAQ</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#faqs">FAQs</a></li>
                
                    <li><a class="toctree-l4" href="#viewing-logs-from-my-container-services">Viewing logs from my container service(s)?</a></li>
                
                    <li><a class="toctree-l4" href="#where-do-i-run-a-build">Where do I run a build?</a></li>
                
                    <li><a class="toctree-l4" href="#how-do-i-share-the-output-from-my-build-container-with-my-web-container">How do I share the output from my build container with my web container?</a></li>
                
                    <li><a class="toctree-l4" href="#how-do-i-configure-my-web-container-so-i-can-run-multiple-projects-at-once-from-the-same-container">How do I configure my web container so I can run multiple projects at once from the same container?</a></li>
                
                    <li><a class="toctree-l4" href="#how-do-i-debug-or-get-a-shell-into-my-application">How do I debug or get a shell into my application?</a></li>
                
                    <li><a class="toctree-l4" href="#how-do-i-connect-to-an-existing-container-that-is-already-running">How do I connect to an existing container that is already running</a></li>
                
                    <li><a class="toctree-l4" href="#how-do-i-see-what-containers-are-running-on-my-docker-host">How do I see what containers are running on my Docker Host?</a></li>
                
                    <li><a class="toctree-l4" href="#why-do-i-have-so-many-containers-cleanup">Why do I have so many containers / cleanup?</a></li>
                
                    <li><a class="toctree-l4" href="#performance-monitoring-of-containers">Performance monitoring of containers</a></li>
                
                    <li><a class="toctree-l4" href="#i-previously-used-boot2docker-instead-of-this-docker-machine-whats-the-difference">I previously used boot2docker instead of this docker-machine. What's the difference?</a></li>
                
                    <li><a class="toctree-l4" href="#can-i-get-vm-addresses-working-with-an-existing-docker-machine">Can I get .vm addresses working with an existing Docker machine?</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../99_LINUX/">LINUX</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../XDEBUG/">XDEBUG</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">DevTools CLI Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>FAQ</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://bitbucket.org/phase2tech/_devtools_vm" class="icon icon-bitbucket"> Edit on BitBucket</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="faqs">FAQs</h2>
<h3 id="viewing-logs-from-my-container-services">Viewing logs from my container service(s)?</h3>
<p>When you start a your containers via <code>docker-compose up</code> all of the defined services will start in the foreground. All log output to stdout/stderr within each container will be output the console.  Each entry will be prefixed with the name of the running container to identify the source of the log message.</p>
<p>If log output is not coming directly to the console you can <code>docker exec -it &lt;name&gt; /bin/bash</code> into the running container and browse the file system for logs. Most common services will provide some log output in <code>/var/log</code>.</p>
<h3 id="where-do-i-run-a-build">Where do I run a build?</h3>
<p>You should run a build from within the build tools container for your project.  Look at the <a href="https://bitbucket.org/phase2tech/_devtools_vm/src/master/examples/drupal8/build.yml?fileviewer=file-view-default">examples/drupal8/build.yml</a> file to see the various way you can configure build containers for your environment.  That docker-compose file contains instructions on how you could use each of those containers for executing build commands on your codebase.</p>
<h3 id="how-do-i-share-the-output-from-my-build-container-with-my-web-container">How do I share the output from my build container with my web container?</h3>
<p>First have your build container define a volume to mount your project code into the container, then when you perform a build it will write the output to you local project. Then if your web container defines a volume to mount the build output into the docroot you will have seamless integration of build output to web container running the site.</p>
<h3 id="how-do-i-configure-my-web-container-so-i-can-run-multiple-projects-at-once-from-the-same-container">How do I configure my web container so I can run multiple projects at once from the same container?</h3>
<p>You don’t. Seriously. This is a place where you must change your thinking from that of treating a <em>server</em> as a unit to treating the <strong>service</strong> as a unit. If you have multiple projects active at once, you’ll have a web serving container active for each of them. This is ok because containers are much lighter weight than full virtual machines, though you do want to be careful about starting too many at once.  Consider that you will have a docker-compose file for each project you are working on, and each docker-compose file represents your application and all the services required to run it.  You could be running multiple docker-compose applications on a single Docker Host.  Realistically, for the performance of your computer you would stop one docker-compose environment before you would run another.</p>
<h3 id="how-do-i-debug-or-get-a-shell-into-my-application">How do I debug or get a shell into my application?</h3>
<p>The way to run a command in a container is: <code>docker-compose run &lt;container name&gt; &lt;command&gt;</code>. For example, to get a shell into your web container you might run <code>docker-compose run web /bin/bash</code> </p>
<p>To run a series of commands, you must wrap them in a single command using a shell. For example: <code>docker-compose run &lt;name in yml&gt; sh -c '&lt;command 1&gt; &amp;&amp; &lt;command 2&gt; &amp;&amp; &lt;command 3&gt;'</code></p>
<p>In some cases you may want to run a container that is not defined by a docker-compose.yml file, for example to test a new container configuration. Use docker run to start a new container with a given image: <code>docker run -it &lt;image name&gt; &lt;command&gt;</code></p>
<p>The docker run command accepts command line options to specify volume mounts, environment variables, the working directory, and more. </p>
<h3 id="how-do-i-connect-to-an-existing-container-that-is-already-running">How do I connect to an existing container that is already running</h3>
<p>There is also a docker exec command that can be used to connect to a container that is already running.  </p>
<ul>
<li>
<p>Use <code>docker ps</code> to get the name of the existing container</p>
</li>
<li>
<p>Use the command <code>docker exec -it &lt;container name&gt; /bin/bash</code> to get a bash shell in the container</p>
</li>
<li>
<p>Generically, use <code>docker exec -it &lt;container name&gt; &lt;command&gt;</code> to execute whatever command you specify in the container.</p>
</li>
</ul>
<h3 id="how-do-i-see-what-containers-are-running-on-my-docker-host">How do I see what containers are running on my Docker Host?</h3>
<p>If you want to see how many containers are present within your Docker Host VM and check on the status of them just run <code>docker ps</code> This will show you the containers running, the image they are based on, the ports they expose and the name of the container.</p>
<p>To see all the containers on the Docker Host both running and stopped use the command  <code>docker ps -a</code></p>
<h3 id="why-do-i-have-so-many-containers-cleanup">Why do I have so many containers / cleanup?</h3>
<p>Any time you finish a project or you need to "reset" things, you should clean up your containers for a project by running <code>docker-compose rm</code>. That will remove the instances for the containers specified in your docker compose file.</p>
<p>Additionally you can run <code>devtools prune</code> to clear out all stopped containers and any dangling images.</p>
<h3 id="performance-monitoring-of-containers">Performance monitoring of containers</h3>
<p>If you need some insight into how many resources a given Docker container may be using, take advantage of the command <code>docker stats &lt;container name&gt;</code>.  This handy command will show you CPU%, Memory%, Memory Usage vs Limit, and Network I/O.  It is rudimentary but can be very useful in the first line of inspection on a container.</p>
<h3 id="i-previously-used-boot2docker-instead-of-this-docker-machine-whats-the-difference">I previously used boot2docker instead of this docker-machine. What's the difference?</h3>
<p>Dev Tools still uses the boot2docker <strong>virtual machine</strong>. The "boot2docker CLI" has been phased out in favor of docker-machine. docker-machine still uses the boot2docker linux distribution. docker-machine spins up a vm named <strong>dev</strong> in Virtualbox or VMWare Fusion, whereas boot2docker previously spun up a vm named <strong>boot2docker</strong>. </p>
<h3 id="can-i-get-vm-addresses-working-with-an-existing-docker-machine">Can I get .vm addresses working with an existing Docker machine?</h3>
<p>Yes, with an important caveat that containers will not be able to resolve .vm addresses without reconfiguring the daemon.</p>
<p>As of v0.3.0 a <code>devtools dns</code> command has been added. It can accept a <code>--name</code> parameter to run on an existing docker-machine virtual machine.</p>
<p>When we start a machine with <code>devtools start</code>, we do the following things:</p>
<ul>
<li>Start a machine with the <code>-dns=172.17.0.1</code> Docker daemon option set so that all containers will try dnsdock for DNS</li>
<li>Run dnsdock bound to <code>172.17.0.1:53</code> to provide .vm addresses for all containers</li>
<li>Set up Mac OS X to route 172.17.0.1/16 to the Docker virtual machine's IP so the host machine can access containers direct</li>
<li>Set up <code>/etc/resolver/vm</code> so that OS X will look up .vm addresses through DNS queries to <code>172.17.0.1</code></li>
</ul>
<p>If you run <code>devtools dns --name=$DOCKER_MACHINE_NAME</code>, every step except the first will run, so your OS X host will be able to reach containers by their .vm addresses but other containers will not. This is the major difference between creating a machine with <code>devtools start</code> and applying the DNS configuration to an existing machine with <code>devtools dns</code>.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../99_LINUX/" class="btn btn-neutral float-right" title="LINUX">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../50_TROUBLESHOOTING/" class="btn btn-neutral" title="Troubleshooting"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://bitbucket.org/phase2tech/_devtools_vm" class="icon icon-bitbucket" style="float: left; color: #fcfcfc"> BitBucket</a>
      
      
        <span><a href="../50_TROUBLESHOOTING/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../99_LINUX/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
